from django.core.management.base import BaseCommand
from ads.models import Category
import logging

logger = logging.getLogger(__name__)

# --- –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–æ–≥—Ä–∏–π ---
CATEGORIES = [
    {
        "name": "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å",
        "description": "–î–æ–º–∞, –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏ –∑–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏",
        "keywords": "–¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞, –∑–µ–º–ª—è, –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å, –∞—Ä–µ–Ω–¥–∞, —Å–¥–∞—á–∞, –ø–æ–∫—É–ø–∫–∞, –∂–∏–ª—å–µ, –∫–æ–º–Ω–∞—Ç–∞, —É—á–∞—Å—Ç–æ–∫, –∏–ø–æ—Ç–µ–∫–∞",
        "position": 0,
    },
    {
        "name": "–†–∞–±–æ—Ç–∞",
        "description": "–û–±—ä—è–≤–ª–µ–Ω–∏—è –æ —Ä–∞–±–æ—Ç–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞",
        "keywords": "—Ä–∞–±–æ—Ç–∞, –∫–∞—Ä—å–µ—Ä–∞, —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –≤–∞–∫–∞–Ω—Å–∏—è, –¥–æ–ª–∂–Ω–æ—Å—Ç—å, –Ω–∞–π–º, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –∑–∞—Ä–ø–ª–∞—Ç–∞, —Ä–µ–∑—é–º–µ",
        "position": 1,
    },
    {
        "name": "–ê–≤—Ç–æ",
        "description": "–ê–≤—Ç–æ–º–æ–±–∏–ª–∏, –º–æ—Ç–æ—Ü–∏–∫–ª—ã –∏ –¥—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞",
        "keywords": "–º–∞—à–∏–Ω–∞, –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –º–æ—Ç–æ—Ü–∏–∫–ª, –≤–µ–ª–æ—Å–∏–ø–µ–¥, –∞–≤—Ç–æ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, —Ñ—É—Ä–≥–æ–Ω, –¥–∂–∏–ø, —Å–µ–¥–∞–Ω, —Ç–∞—á–∫–∞, –∫–æ–ª–µ—Å–∞",
        "position": 2,
    },
    {
        "name": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
        "description": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –≥–∞–¥–∂–µ—Ç—ã",
        "keywords": "—Ç–µ–ª–µ—Ñ–æ–Ω, –Ω–æ—É—Ç–±—É–∫, –∫–æ–º–ø—å—é—Ç–µ—Ä, –≥–∞–¥–∂–µ—Ç, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —Ç–µ–ª–µ–≤–∏–∑–æ—Ä, –ø–ª–∞–Ω—à–µ—Ç, –∫–∞–º–µ—Ä–∞, –Ω–∞—É—à–Ω–∏–∫–∏, –∫–æ–ª–æ–Ω–∫–∞, —Å–º–∞—Ä—Ç—Ñ–æ–Ω",
        "position": 3,
    },
    {
        "name": "–ú–µ–±–µ–ª—å",
        "description": "–î–æ–º–∞—à–Ω—è—è –∏ –æ—Ñ–∏—Å–Ω–∞—è –º–µ–±–µ–ª—å",
        "keywords": "—Å—Ç—É–ª, —Å—Ç–æ–ª, –∫—Ä–æ–≤–∞—Ç—å, –¥–∏–≤–∞–Ω, —à–∫–∞—Ñ, –ø–æ–ª–∫–∞, –∫–æ–º–æ–¥, —Ç—É–º–±–∞, –º–µ–±–µ–ª—å, –≥–∞—Ä–Ω–∏—Ç—É—Ä",
        "position": 4,
    },
    {
        "name": "–û–¥–µ–∂–¥–∞, –æ–±—É–≤—å",
        "description": "–û–¥–µ–∂–¥–∞, –æ–±—É–≤—å –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã",
        "keywords": "—Ñ—É—Ç–±–æ–ª–∫–∞, –º–∞–π–∫–∞, —Ä—É–±–∞—à–∫–∞, –±—Ä—é–∫–∏, –ø–ª–∞—Ç—å–µ, –∫—É—Ä—Ç–∫–∞, –æ–±—É–≤—å, —à–ª—è–ø–∞, –∞–∫—Å–µ—Å—Å—É–∞—Ä, –¥–∂–∏–Ω—Å—ã, –ø–∞–ª—å—Ç–æ, –∫–æ—Å—Ç—é–º, –Ω–æ—Å–∫–∏, –∫—Ä–æ—Å—Å–æ–≤–∫–∏, —Ç—É—Ñ–ª–∏, –±–æ—Ç–∏–Ω–∫–∏, —Ç—Ä—É—Å—ã",
        "position": 5,
    },
    {
        "name": "–£—Å–ª—É–≥–∏",
        "description": "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –ª–∏—á–Ω—ã–µ —É—Å–ª—É–≥–∏",
        "keywords": "—Ä–µ–º–æ–Ω—Ç, —É–±–æ—Ä–∫–∞, –¥–∏–∑–∞–π–Ω, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è, –ø–æ–º–æ—â—å, —É—Å–ª—É–≥–∞, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –º–∞—Å—Ç–µ—Ä",
        "position": 6,
    },
    {
        "name": "–î—Ä—É–≥–æ–µ",
        "description": "–†–∞–∑–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –∫ –¥—Ä—É–≥–∏–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º",
        "keywords": "—Ä–∞–∑–Ω–æ–µ, –¥—Ä—É–≥–æ–µ, –ø—Ä–æ—á–µ–µ, —Ä–∞–∑–ª–∏—á–Ω–æ–µ",
        "position": 7,
    },
]


class Command(BaseCommand):
    help = "–°–æ–∑–¥–∞—ë—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"

    def handle(self, *args, **options):
        self.stdout.write("üõ†  Ensuring standard categories‚Ä¶")

        # –°–æ–∑–¥–∞—ë–º –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é –Ω—É–∂–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
        for cat in CATEGORIES:
            obj, created = Category.objects.update_or_create(
                name=cat["name"],
                defaults={
                    "description": cat["description"],
                    "position":    cat["position"],
                    "keywords":    cat["keywords"],
                },
            )
            action = "‚ûï —Å–æ–∑–¥–∞–Ω–∞" if created else "‚Ü∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∞"
            self.stdout.write(f"  {action}: {obj.name}")

        self.stdout.write(self.style.SUCCESS("‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –ø–æ—Ä—è–¥–∫–µ!"))
